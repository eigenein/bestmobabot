# Арена

## Как это работает?

### TL;DR

- Журналы боев с арен сохраняются в базу данных
- Один раз в день бот можно переобучать предсказывать победу в бою на основе этих журналов
- Чем больше журналов сохранено, тем лучше составляются команды на арене
- Поначалу все будет плохо
- Через месяц-другой будет круто
- Может быть, я встрою в бота готовую модель

### Подробнее

Несколько раз в день бот сохраняет к себе в базу данных журналы арен. Это не очень много, несколько десятков боев в день. Сохраняются доступные признаки героев типа цвета, уровня и звездности и так далее. Сохраняется и результат боя. Раз в сутки бот перестраивает модель машинного обучения для предсказания исхода боя, если известны обе команды.

Когда бот идет на арену, то для каждого противника он пытается подобрать лучшую команду для атаки. Полный перебор сделать невозможно, поэтому используется генетический алгоритм.

Бот перебирает противников, пока не найдет наилучшего – с максимальной вероятностью победы. Если вероятность победы для выбранного противника менее 50%, то атака отменяется и откладывается на попозже. Атака на позиции выше 100-ой на гранд-арене пока не реализована. Но уже сейчас бот сохраняет увиденные команды противников, чтобы в будущем оценивать скрытые команды.

## Настройка

TODO
